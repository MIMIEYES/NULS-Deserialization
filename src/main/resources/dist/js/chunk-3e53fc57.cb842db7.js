(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e53fc57"],{"7ccd":function(a,e,t){"use strict";var r=t("bb5f"),l=t.n(r);l.a},bb5f:function(a,e,t){},cb90:function(a,e,t){"use strict";t.r(e);var r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"deserialization w1200"},[a._m(0),t("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],on:{"tab-click":a.handleClick},model:{value:a.activeName,callback:function(e){a.activeName=e},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"交易",name:"first"}},[t("div",{staticClass:"fl w_f"},[t("el-form",{ref:"transactionForm",staticClass:"tx_form",attrs:{model:a.transactionForm,rules:a.transactionRules,"label-width":"110px"}},[t("el-form-item",{attrs:{label:"交易txHex",prop:"txHex"}},[t("el-input",{attrs:{type:"textarea",rows:15},model:{value:a.transactionForm.txHex,callback:function(e){a.$set(a.transactionForm,"txHex","string"===typeof e?e.trim():e)},expression:"transactionForm.txHex"}})],1),t("el-form-item",{attrs:{label:"chainId",prop:"chainId"}},[t("el-input",{model:{value:a.transactionForm.chainId,callback:function(e){a.$set(a.transactionForm,"chainId",a._n(e))},expression:"transactionForm.chainId"}})],1),t("el-form-item",{attrs:{label:"地址前缀",prop:"prdfix"}},[t("el-input",{model:{value:a.transactionForm.prdfix,callback:function(e){a.$set(a.transactionForm,"prdfix","string"===typeof e?e.trim():e)},expression:"transactionForm.prdfix"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"success"},on:{click:function(e){return a.submitTransaction("transactionForm")}}},[a._v("点击反序列化")])],1)],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:a.transactionValue,expression:"transactionValue"}],staticClass:"w_r fr"},[t("json-viewer",{attrs:{value:a.transactionValue,"expand-depth":5,copyable:""}})],1)]),t("el-tab-pane",{attrs:{label:"交易业务数据(txData)",name:"second"}},[t("div",{staticClass:"fl w_f"},[t("el-form",{ref:"txDataForm",staticClass:"tx_form",attrs:{model:a.txDataForm,rules:a.txDataRules,"label-width":"110px"}},[t("el-form-item",{attrs:{label:"交易txData",prop:"txData"}},[t("el-input",{attrs:{type:"textarea",rows:15},model:{value:a.txDataForm.txData,callback:function(e){a.$set(a.txDataForm,"txData","string"===typeof e?e.trim():e)},expression:"txDataForm.txData"}})],1),t("el-form-item",{attrs:{label:"交易类型",prop:"type"}},[t("el-select",{attrs:{filterable:"",placeholder:"请选择交易类型"},model:{value:a.txDataForm.type,callback:function(e){a.$set(a.txDataForm,"type",e)},expression:"txDataForm.type"}},a._l(a.typeOptions,(function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1),t("el-form-item",{attrs:{label:"chainId",prop:"chainId"}},[t("el-input",{model:{value:a.txDataForm.chainId,callback:function(e){a.$set(a.txDataForm,"chainId",a._n(e))},expression:"txDataForm.chainId"}})],1),t("el-form-item",{attrs:{label:"地址前缀",prop:"prdfix"}},[t("el-input",{model:{value:a.txDataForm.prdfix,callback:function(e){a.$set(a.txDataForm,"prdfix","string"===typeof e?e.trim():e)},expression:"txDataForm.prdfix"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"success"},on:{click:function(e){return a.submitTxData("txDataForm")}}},[a._v("点击反序列化")])],1)],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:a.txDataValue,expression:"txDataValue"}],staticClass:"w_r fr"},[t("json-viewer",{attrs:{value:a.txDataValue,"expand-depth":5,copyable:""}})],1)]),t("el-tab-pane",{attrs:{label:"交易hash查询详情",name:"third"}},[t("div",{staticClass:"fl w_f"},[t("el-form",{ref:"hashForm",staticClass:"hash_form",attrs:{model:a.hashForm,rules:a.hashRules,"label-width":"110px"}},[t("el-form-item",{attrs:{label:"接入网络",prop:"network"}},[t("el-radio-group",{model:{value:a.hashForm.network,callback:function(e){a.$set(a.hashForm,"network",e)},expression:"hashForm.network"}},[t("el-radio",{attrs:{label:"1"}},[a._v("主网")]),t("el-radio",{attrs:{label:"2"}},[a._v("测试网")]),t("el-radio",{attrs:{label:"3"}},[a._v("其他")])],1)],1),"3"===a.hashForm.network?t("el-form-item",{attrs:{label:"网络地址",prop:"urls"}},[t("el-input",{model:{value:a.hashForm.urls,callback:function(e){a.$set(a.hashForm,"urls",e)},expression:"hashForm.urls"}})],1):a._e(),t("el-form-item",{attrs:{label:"交易hash",prop:"hash"}},[t("el-input",{attrs:{type:"textarea",rows:5},model:{value:a.hashForm.hash,callback:function(e){a.$set(a.hashForm,"hash","string"===typeof e?e.trim():e)},expression:"hashForm.hash"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"success"},on:{click:function(e){return a.submitHash("hashForm")}}},[a._v("查询交易")])],1)],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:a.hashValue,expression:"hashValue"}],staticClass:"w_r fr"},[t("json-viewer",{attrs:{value:a.hashValue,"expand-depth":5,copyable:""}})],1)])],1)],1)},l=[function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"title"},[a._v("\n    NULS 反序列化\n    "),t("span",{staticClass:"font10 fr"},[a._v("开发者:NULSd6HgV3H5FecBPdXiY7r9d9cQa79KhaezY(Pierreluo)")]),t("i")])}],s=t("bc3a"),i=t.n(s),n={data(){return{loading:!1,serializeUrl:"/api/jsonrpc",activeName:"first",transactionForm:{txHex:"",chainId:"",prdfix:""},transactionRules:{txHex:[{required:!0,message:"请输入txHex",trigger:"blur"},{min:30,max:3e5,message:"txHex长度在 30 到 300000 个字符",trigger:"blur"}],chainId:[{required:!0,message:"请输入chainID",trigger:"blur"},{type:"number",message:"chainID必须为数字",trigger:"blur"}],prdfix:[{required:!0,message:"请输入地址前缀",trigger:"blur"}]},transactionValue:{},txDataForm:{txData:"",type:"",chainId:"",prdfix:""},txDataRules:{txData:[{required:!0,message:"请输入txData",trigger:"blur"},{min:10,max:3e5,message:"txData长度在 10 到 300000 个字符",trigger:"blur"}],type:[{required:!0,message:"请选择交易类型",trigger:"change"}],chainId:[{required:!0,message:"请输入chainID",trigger:"blur"},{type:"number",message:"chainID必须为数字",trigger:"blur"}],prdfix:[{required:!0,message:"请输入地址前缀",trigger:"blur"}]},txDataValue:{},typeOptions:[{value:1,label:"1-共识奖励"},{value:2,label:"2-转账交易"},{value:3,label:"3-设置别名"},{value:4,label:"4-创建节点"},{value:5,label:"5-加入共识"},{value:6,label:"6-退出共识"},{value:7,label:"7-黄牌惩罚"},{value:8,label:"8-红牌惩罚"},{value:9,label:"9-注销节点"},{value:10,label:"10-跨链交易"},{value:11,label:"11-注册跨链"},{value:12,label:"12-注销跨链"},{value:13,label:"13-新增跨链资产"},{value:14,label:"14-注销跨链资产"},{value:15,label:"15-创建合约"},{value:16,label:"16-调用合约"},{value:17,label:"17-删除合约"},{value:18,label:"18-合约转账"},{value:19,label:"19-合约返还"},{value:20,label:"20-合约创建节点"},{value:21,label:"21合约参与共识"},{value:22,label:"22-合约退出共识"},{value:23,label:"23-合约注销节点"},{value:24,label:"24-验证人变更"},{value:25,label:"25-验证人初始化"}],hashForm:{network:"1",urls:"",hash:""},hashRules:{network:[{required:!0,message:"请选择网络接入",trigger:"change"}],urls:[{required:!0,message:"请输入网络接入url",trigger:"blur"}],hash:[{required:!0,message:"请输入交易hash",trigger:"blur"},{min:10,max:100,message:"交易hash长度在 10 到 100 个字符",trigger:"blur"}]},hashValue:{},hashOptions:[{value:1,label:"1-共识奖励"},{value:2,label:"2-转账交易"},{value:3,label:"3-设置别名"},{value:4,label:"4-创建节点"},{value:5,label:"5-加入共识"},{value:6,label:"6-退出共识"},{value:7,label:"7-黄牌惩罚"},{value:8,label:"8-红牌惩罚"},{value:9,label:"9-注销节点"},{value:10,label:"10-跨链交易"},{value:11,label:"11-注册跨链"},{value:12,label:"12-注销跨链"},{value:13,label:"13-新增跨链资产"},{value:14,label:"14-注销跨链资产"},{value:15,label:"15-创建合约"},{value:16,label:"16-调用合约"},{value:17,label:"17-删除合约"},{value:18,label:"18-合约转账"},{value:19,label:"19-合约返还"},{value:20,label:"20-合约创建节点"},{value:21,label:"21合约参与共识"},{value:22,label:"22-合约退出共识"},{value:23,label:"23-合约注销节点"},{value:24,label:"24-验证人变更"},{value:25,label:"25-验证人初始化"}]}},created(){},watch:{"transactionForm.chainId":function(a){1===Number(a)?this.transactionForm.prdfix="NULS":2===Number(a)?this.transactionForm.prdfix="tNULS":this.transactionForm.prdfix=""},"txDataForm.chainId":function(a){1===Number(a)?this.txDataForm.prdfix="NULS":2===Number(a)?this.txDataForm.prdfix="tNULS":this.txDataForm.prdfix=""},"hashForm.network":function(a){1===Number(a)?this.hashForm.urls="https://api.nuls.io":2===Number(a)?this.hashForm.urls="http://beta.api.nuls.io":this.hashForm.urls="http://localhost:18004"}},methods:{handleClick(a){"first"===a.name||a.name},submitTransaction(a){this.$refs[a].validate(a=>{if(!a)return!1;{this.transactionValue="";let a=this.serializeUrl,e=[Number(this.transactionForm.chainId),this.transactionForm.txHex,this.transactionForm.prdfix];const t={jsonrpc:"2.0",method:"deserializationTx",params:e,id:Math.floor(1e3*Math.random())};this.getTransaction(a,t)}})},submitTxData(a){this.$refs[a].validate(a=>{if(!a)return!1;{this.txDataValue="";let a=this.serializeUrl,e=[Number(this.txDataForm.chainId),this.txDataForm.type,this.txDataForm.txData,this.txDataForm.prdfix];const t={jsonrpc:"2.0",method:"deserializationTxData",params:e,id:Math.floor(1e3*Math.random())};this.getTransaction(a,t)}})},async submitHash(a){this.$refs[a].validate(async a=>{if(!a)return!1;{this.hashValue="";let a=null,e="",t=Number(this.hashForm.network),r="",l=t,s=!1;do{if(1===t)e="https://api.nuls.io/api";else if(2===t)e="http://beta.api.nuls.io/api";else{let t=this.hashForm.urls,s="/api";"/"===t.substr(t.length-1,1)&&(s="api"),e=t+s;let i=await this.get(e+"/info");if(!i.success){a=i;break}r=i.data.addressPrefix,l=i.data.chainId}let s=await this.get(e+"/tx/"+this.hashForm.hash);if(!s.success){a=s;break}a=s.data;const i={jsonrpc:"2.0",method:"deserializationTxData",params:[l,a.type,a.txDataHex,r],id:Math.floor(1e3*Math.random())};let n=await this.post(this.serializeUrl,i);n.success&&(a.txData=n.data);let o=await this.get(e+"/contract/result/"+this.hashForm.hash);o.success&&(a.contractResult=o.data)}while(s);this.loading=!1,this.hashValue=a}})},async get(a){return await this.getData(a).then(a=>{return a}).catch(a=>{return{success:!1,data:a}})},getData(a){return new Promise((e,t)=>{i.a.get(a).then(a=>{e(a.data)},a=>{t(a)})})},async post(a,e){return await this.postData(a,e).then(a=>{return a.hasOwnProperty("result")?{success:!0,data:a.result}:{success:!1,data:a.error}}).catch(a=>{return{success:!1,data:a}})},postData(a,e){return new Promise((t,r)=>{i.a.post(a,e).then(a=>{t(a.data)},a=>{r(a)})})},getTransaction(a,e){let t=this;i.a.post(a,e).then(a=>{let e={};e=a.data.hasOwnProperty("result")?a.data.result:a.data,"first"===this.activeName?t.transactionValue=e:"second"===this.activeName?t.txDataValue=e:t.hashValue=e,this.loading=!1}).catch(a=>{t.transactionValue=a,this.loading=!1})}}},o=n,u=(t("7ccd"),t("2877")),h=Object(u["a"])(o,r,l,!1,null,null,null);e["default"]=h.exports}}]);